<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= modelName %> {{item.id}}</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <base href="/">
</head>
<body>
    <div class="container-fluid">
        <h1><%= modelName %> {{item.id}}</h1>
        <form action="/<%= modelName %>/{{item.id}}" method="post">
            <% for(const field in model) { %>
            <div class="form-group">
                <label for="<%= field %>"><%= field %></label>
    
                <% if (model[field].foreignKey && model[field].foreignKey.target_table) { %>
                <select name="<%= field %>" id="<%= field %>" value="{{item.<%= field %>}}" class="custom-select">
                    {{#each <%= model[field].foreignKey.target_table %>}}
                    <option value="{{this.<%= model[field].foreignKey.target_column %>}}" {{#if (eq item.<%= field %> this.<%= model[field].foreignKey.target_column %>)}}selected{{/if}}>{{this}}</option>
                    {{/each}}
                </select>
                <% } else { %>
                <input type="text" class="form-control" name="<%= field %>" id="<%= field %>" value="{{item.<%= field %>}}">
                <% } %>
            </div>
            <% } %>
            <div class="form-group">
                {{#if item.id}}
                <input type="submit" value="Update" class="btn btn-primary">
                {{/if}}
                {{#unless item.id}}
                <input type="submit" value="Create" class="btn btn-success">
                {{/unless}}
            </div>
        </form>
    </div>
</body>
</html>